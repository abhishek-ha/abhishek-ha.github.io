!function(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0,a.src="https://checkout.razorpay.com/v1/checkout.js",a.charset="UTF-8",a.setAttribute("crossorigin","*"),b.parentNode.insertBefore(a,b)}();function BuyOPDPlan(a,b,c,d,e,f,g,h,i,j,k,l,m){return new Promise(function(p,q){var n="https://live.healthassure.in/ProductApi/",o={Accept:"application/json","Content-Type":"application/json",ApiKey:"joxNjM0MjE2NDQ5fQ.nk2tgCC1NRAbaperiPWQXXoNgybL27zdN3T4dC5L-ak"};$.ajax({type:"POST",url:n+"api/OPDPlans/BuyOPDPlanWithRazorpay",data:JSON.stringify({Name:a,Email:b,MobileNo:c,DOB:d,Gender:e,PlanCode:f,CouponCode:g,Status:"BuyRequest",utmSource:i,utmMedium:j,utmCampaign:k,utmTerm:l,utmContent:m}),dataType:"json",headers:o,success:function(d){if("HAOPDR003-60"==f)try{ShowLoding(!1),opningPaymentSuccesspage();return}catch{}if(d.status){var g={key:d.results.razorpayKey,amount:d.results.transaction.amountIncludingGST,currency:d.results.razorpayOrder.currency,name:"HealthAssure",description:h,image:n+"image/logo/halogo.png",order_id:d.results.razorpayOrder.id,handler:function(a){try{ShowLoding(!0)}catch{}$.ajax({type:"POST",url:n+"api/OPDPlans/BuyOPDPlanConformationWithRazorpay",data:JSON.stringify({TransactionId:d.results.razorpayOrder.receipt,Message:"Payment Success",OrderId:d.results.razorpayOrder.id,Signature:a.razorpay_signature,RefId:a.razorpay_payment_id,Status:"Success"}),dataType:"json",headers:o,success:function(a){if(a.status){p(a);try{ShowLoding(!1),opningPaymentSuccesspage()}catch{}}else console.warn(a),q("Error from Buy OPD Plan Conformation")},error:function(a){console.warn(a),q(a)}})},prefill:{name:a,email:b,contact:"91"+c},notes:{address:"Registered Office : 1st Floor, Excom House, North Wing, 7 Saki-vihar Road, Sakinaka, Andheri(E), Mumbai-400 072"},theme:{color:"#3399cc"},modal:{ondismiss:function(){try{userClosePaymentPopup()}catch{}}}},e=new Razorpay(g);e.on("payment.failed",function(a){console.warn(a.error)}),e.open();try{opningPaymentpage()}catch{}}else console.warn(d),q("Error Creating transaction Id from HealthAssure side")},error:function(a){console.warn(a),q(a)}})})}