function BuyOPDPlan(a,o,r,e,t,n,i,s,c,l,d,u,p,y,P){return new Promise(function(g,m){AddLogRocket(o,{PlanCode:n,MobileNo:r,Description:s});var h="https://live.healthassure.in/ProductApi/",f={Accept:"application/json","Content-Type":"application/json",ApiKey:"joxNjM0MjE2NDQ5fQ.nk2tgCC1NRAbaperiPWQXXoNgybL27zdN3T4dC5L-ak"};$.ajax({type:"POST",url:h+"api/OPDPlans/BuyOPDPlanWithRazorpay",data:JSON.stringify({Name:a,Email:o,MobileNo:r,DOB:e,Gender:t,PlanCode:n,CouponCode:i,Status:"BuyRequest",utmSource:c,utmMedium:l,utmCampaign:d,utmTerm:u,utmContent:p,Relations:y,Agent:P}),dataType:"json",headers:f,success:function(e){try{if("HAOPDR003-60"==n)try{ShowLoding(!1),opningPaymentSuccesspage();return}catch{}if(AddLogRocket(o,{PlanCode:n,log:"Paymant initiated"}),e.status){var t={key:e.results.razorpayKey,amount:e.results.transaction.amountIncludingGST,currency:e.results.razorpayOrder.currency,name:"HealthAssure",description:s,image:h+"image/logo/halogo.png",order_id:e.results.razorpayOrder.id,handler:function(a){AddLogRocket(o,{PlanCode:n,log:"Paymant Success"});try{ShowLoding(!0)}catch{}$.ajax({type:"POST",url:h+"api/OPDPlans/BuyOPDPlanConformationWithRazorpay",data:JSON.stringify({TransactionId:e.results.razorpayOrder.receipt,Message:"Payment Success",OrderId:e.results.razorpayOrder.id,Signature:a.razorpay_signature,RefId:a.razorpay_payment_id,Status:"Success"}),dataType:"json",headers:f,success:function(a){if(a.status){AddLogRocket(o,{PlanCode:n,log:"plan purchased"}),g(a);try{ShowLoding(!1),opningPaymentSuccesspage()}catch{}}else AddLogRocket(o,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanConformationWithRazorpay, Error ",result:a}),console.warn(a),m("Error from Buy OPD Plan Conformation")},error:function(a){AddLogRocket(o,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanConformationWithRazorpay, calling Error ",TransactionId:TransactionId}),console.warn(a),m(a)}})},prefill:{name:a,email:o,contact:"91"+r},notes:{address:"Registered Office : 1st Floor, Excom House, North Wing, 7 Saki-vihar Road, Sakinaka, Andheri(E), Mumbai-400 072"},theme:{color:"#3399cc"},modal:{ondismiss:function(){try{userClosePaymentPopup(),AddLogRocket(o,{PlanCode:n,log:"ondismiss => userClosePaymentPopup"})}catch{}}}},i=new Razorpay(t);i.on("payment.failed",function(a){console.warn(a.error)}),i.open();try{opningPaymentpage()}catch{}}else AddLogRocket(o,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanWithRazorpay, Error ",result:e}),console.warn(e),m("Error Creating transaction Id from HealthAssure side")}catch(c){AddLogRocket(o,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanWithRazorpay, Calling Error "}),console.log(c)}},error:function(a){AddLogRocket(o,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanWithRazorpay, Calling Error "}),console.warn(a),m(a)}})})}function AddLogRocket(a,o){try{LogRocket.identify(a,o),LogRocket.log(a,o)}catch{}}!function(){var a=document.createElement("script"),o=document.getElementsByTagName("script")[0];a.async=!0,a.src="https://checkout.razorpay.com/v1/checkout.js",a.charset="UTF-8",a.setAttribute("crossorigin","*"),o.parentNode.insertBefore(a,o)}();