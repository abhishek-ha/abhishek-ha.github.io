function BuyOPDPlan(a,r,e,o,t,n,s,i,c,l,d,u,p,P,y,g){return new Promise(function(m,O){AddLogRocket(r,{PlanCode:n,MobileNo:e,Description:c});var f="https://live.healthassure.in/ProductApi/",h={Accept:"application/json","Content-Type":"application/json",PartnerOPDPlanApiKey:"14UGczJo0lYOe5ilSzlT2cvLTj1lymz2lRWaBCwIQMd=pnIKeTDBAYApRXj6xO"};$.ajax({type:"POST",url:f+"api/OPDPlans/OPDPlansPurchase",data:JSON.stringify({Name:a,Email:r,MobileNo:e,DOB:o,Gender:t,PlanCode:n,PartnerOrderId:s,CouponCode:i,Status:"BuyRequest",utmSource:l,utmMedium:d,utmCampaign:u,utmTerm:p,utmContent:P,Relations:y,Agent:g}),dataType:"json",headers:h,success:function(o){if(AddLogRocket(r,{PlanCode:n,log:"Paymant initiated"}),o.status){var t={key:o.results.razorpayOrder.key,amount:o.results.transaction.amountIncludingGST,currency:o.results.razorpayOrder.currency,name:"HealthAssure",description:c,image:f+"image/logo/halogo.png",order_id:o.results.razorpayOrder.id,handler:function(a){AddLogRocket(r,{PlanCode:n,log:"Paymant Success"});try{ShowLoding(!0)}catch{}$.ajax({type:"POST",url:f+"api/OPDPlans/OPDPlansPurchaseConformation",data:JSON.stringify({TransactionId:o.results.razorpayOrder.receipt,Message:"Payment Success",OrderId:o.results.razorpayOrder.id,Signature:a.razorpay_signature,RefId:a.razorpay_payment_id,Status:"Success"}),dataType:"json",headers:h,success:function(a){if(a.status){AddLogRocket(r,{PlanCode:n,log:"plan purchased"}),m(a);try{ShowLoding(!1),opningPaymentSuccesspage(n,o.results.razorpayOrder.receipt)}catch{}}else AddLogRocket(r,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanConformationWithRazorpay, Error ",result:a}),console.warn(a),O("Error from Buy OPD Plan Conformation")},error:function(a){AddLogRocket(r,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanConformationWithRazorpay, calling Error ",TransactionId:o.results.razorpayOrder.receipt}),console.warn(a),O(a)}})},prefill:{name:a,email:r,contact:"91"+e},notes:{transactionId:o.results.razorpayOrder.receipt,address:"Registered Office : 1st Floor, Excom House, North Wing, 7 Saki-vihar Road, Sakinaka, Andheri(E), Mumbai-400 072"},theme:{color:"#3399cc"},modal:{ondismiss:function(){try{AddLogRocket(r,{PlanCode:n,log:"ondismiss => userClosePaymentPopup"}),userClosePaymentPopup()}catch{}}}},s=new Razorpay(t);s.on("payment.failed",function(a){AddLogRocket(r,{PlanCode:n,TransactionId:o.results.razorpayOrder.receipt,log:"payment.failed, Error ",result:a}),console.warn(a.error)}),s.open();try{opningPaymentpage()}catch{}}else AddLogRocket(r,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanWithRazorpay, Error ",result:o}),console.warn(o),O("Error Creating transaction Id from HealthAssure side")},error:function(a){AddLogRocket(r,{PlanCode:n,log:"api=> api/OPDPlans/BuyOPDPlanWithRazorpay, Calling Error "}),console.warn(a),O(a)}})})}function AddLogRocket(a,r){try{LogRocket.identify(a,r),LogRocket.log(a,r)}catch{}}!function(){var a=document.createElement("script"),r=document.getElementsByTagName("script")[0];a.async=!0,a.src="https://checkout.razorpay.com/v1/checkout.js",a.charset="UTF-8",a.setAttribute("crossorigin","*"),r.parentNode.insertBefore(a,r)}();