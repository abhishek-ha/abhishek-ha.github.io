!function(){var r=document.createElement("script"),e=document.getElementsByTagName("script")[0];r.async=!0,r.src="https://checkout.razorpay.com/v1/checkout.js",r.charset="UTF-8",r.setAttribute("crossorigin","*"),e.parentNode.insertBefore(r,e)}();function BuyOPDPlan(r,e,a,t,n,s,o,i,c,u,l,d,p,m,y,f){return new Promise(function(h,P){var O="https://live.healthassure.in/ProductApi/",g={Accept:"application/json","Content-Type":"application/json",PartnerOPDPlanApiKey:"14UGczJo0lYOe5ilSzlT2cvLTj1lymz2lRWaBCwIQMd=pnIKeTDBAYApRXj6xO"};$.ajax({type:"POST",url:O+"api/OPDPlans/OPDPlansPurchase",data:JSON.stringify({Name:r,Email:e,MobileNo:a,DOB:t,Gender:n,PlanCode:s,PartnerOrderId:o,CouponCode:i,Status:"BuyRequest",utmSource:u,utmMedium:l,utmCampaign:d,utmTerm:p,utmContent:m,Relations:y,Agent:f}),dataType:"json",headers:g,success:function(t){if(t.status){var n={key:t.results.razorpayOrder.key,amount:t.results.transaction.amountIncludingGST,currency:t.results.razorpayOrder.currency,name:"HealthAssure",description:c,image:O+"image/logo/halogo.png",order_id:t.results.razorpayOrder.id,handler:function(r){try{ShowLoding(!0)}catch{}$.ajax({type:"POST",url:O+"api/OPDPlans/OPDPlansPurchaseConformation",data:JSON.stringify({TransactionId:t.results.razorpayOrder.receipt,Message:"Payment Success",OrderId:t.results.razorpayOrder.id,Signature:r.razorpay_signature,RefId:r.razorpay_payment_id,Status:"Success"}),dataType:"json",headers:g,success:function(r){if(r.status){h(r);try{ShowLoding(!1),opningPaymentSuccesspage()}catch{}}else console.warn(r),P("Error from Buy OPD Plan Conformation")},error:function(r){console.warn(r),P(r)}})},prefill:{name:r,email:e,contact:"91"+a},notes:{address:"Registered Office : 1st Floor, Excom House, North Wing, 7 Saki-vihar Road, Sakinaka, Andheri(E), Mumbai-400 072"},theme:{color:"#3399cc"},modal:{ondismiss:function(){try{userClosePaymentPopup()}catch{}}}},s=new Razorpay(n);s.on("payment.failed",function(r){console.warn(r.error)}),s.open();try{opningPaymentpage()}catch{}}else console.warn(t),P("Error Creating transaction Id from HealthAssure side")},error:function(r){console.warn(r),P(r)}})})}