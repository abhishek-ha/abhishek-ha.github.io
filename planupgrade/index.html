<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Plan Upgrade </title>
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
  <section class="planupgradebg">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-12 logo">
          <a href="index.html"><img src="images/logo.png"></a>
        </div>
        <div class="col-lg-12 col-md-12 col-12 text-center">
          <h3 class="pt-4">Upgrade Insurance Policy and save 10% </h3>
          <p> Note: You will be eligible for 40% additional
            diagnostics credit if you have a claim free plan year </p>
        </div>
        <div class="col-lg-12 col-md-12 col-12">
          <form class="form" id="RenewpolicyNoForm">
            <h3>Your HealthAssure Plan
              Expires Soon </h3>
            <p>Upgrade now to continue availing benefits! </p>
            <div class="mb-3">
              <label for="RenewPolicyNo" class="form-label"> Policy No </label>
              <input type="text" class="form-control" id="RenewPolicyNo" placeholder="Policy No" required>
              <div>
                <p id="policyInvalidMessage" style="color: #f12121;"> Please enter valid Policy No. </p>
              </div>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="upgradePlanType" id="radioUpgrade" value="1"
                checked="checked">
              <label class="form-check-label" for="radioUpgrade"> Upgrade </label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="upgradePlanType" id="radioRenewUpgrade" value="2">
              <label class="form-check-label" for="radioRenewUpgrade"> Renewal + Upgrade </label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="upgradePlanType" id="radioRenew" value="3">
              <label class="form-check-label" for="radioRenew"> Renew </label>
            </div>
            <div class="col-lg-12 col-md-12 col-12 mt-4">
              <button id="srchPlans" type="submit" class="btn btn-primary w-100"> UPGRADE </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <section class="existingplanbenefits">
    <div class="container" id="PolicyDetailsectiondiv" style="display: none;">
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <h4 class="text-center py-4 text-dark"> Existing Plan Details </h4>
        </div>
      </div>
      <div class="row plandetail">
        <div class="col-lg-4 col-md-4 col-12">
          <p id="CustomerName"><span> Name: </span> Ganesh Ananath Narayan </p>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <p id="CustomerMobileNo"><span> Mobile: </span> Ganesh Ananath Narayan </p>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <p id="CustomerEmail"><span> Email: </span> Ganesh Ananath Narayan </p>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <p id="PolicyNo"><span> Policy No: </span> Ganesh Ananath Narayan </p>
        </div>
        <div class="col-lg-4 col-md-4 col-12">
          <p id="PlanValidity"><span>Existing Validity: </span> 03 December 2022 to 02 December 2024 </p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 col-md-12 col-12 bg-primary text-white">
          <p id="PlanNewValidity" class="py-3 mb-0"><b> Your New Validity: 03 December 2024 to 02 December 2026 </b></p>
        </div>
      </div>
      <div class="row benefitbox">
      </div>
      <div class="col-lg-6 col-md-6 col-xl-6 col-7 val" id="renewBtnDiv" style="display: none;">
        <button type="button" class="btn btn-light upgrade_button" data-bs-toggle="modal"
          data-bs-target="#exampleModal"> Renew </button>
      </div>
    </div>
  </section>
  <section class="bringing-section">
    <div class="container pb-4 px-3 px-md-0 mt-3">
      <div class="row" id="UpgradePlansDiv" style="display: none;">
      </div>
    </div>
  </section>
  <footer>
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <h3 class="pb-3"> StayAssured with HealthAssure </h3>
          <div class="input-group mb-3">
            <input type="text" class="form-control subscribe"
              placeholder="Drop us your email for special offers on plans" aria-label="Recipient's username"
              aria-describedby="basic-addon2">
            <div class="input-group-append">
              <span class="input-group-text text-white"> <i class="fa-regular fa-paper-plane"></i> </span>
            </div>
          </div>
          <p class="pt-4"> Our journey over the last decade has had one goal: to make it easier for people to stay
            healthy. We have approached this in three ways: simplify access to Primary Care, make the complex healthcare
            ecosystem easier to navigate, and make care needed more affordable. HealthAssure is a unique organisation at
            the convergence of HealthTech and FinTech. With a strong team, we look forward to evolving the industry and
            the experience of every individual user every day. </p>
          <p> -<b> Varun Gera,</b> Founder </p>
        </div>
      </div>
      <div class="row menu">
        <div class="col-lg-3 col-md-3 col-6">
          <h4> Explore Plans </h4>
          <ul>
            <li><a href="https://www.healthassure.in/plans" target="_blank"> Self-Buy Plans </a> </li>
            <li><a href="https://www.healthassure.in/agents" target="_blank"> Retail Plans </a> </li>
            <li><a href="https://www.healthassure.in/corporate" target="_blank"> Workplace Plans </a> </li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-3 col-6">
          <h4> Join the Network </h4>
          <ul>
            <li><a href="https://live.healthassure.in/Products/Provider/Search_Provider" target="_blank"> Partners Near
                You </a></li>
            <li><a href="https://www.healthassure.in/network-partners" target="_blank"> Network Partners </a> </li>
            <li><a href="https://www.healthassure.in/contact-us" target="_blank"> Contact Us </a> </li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-3 col-6">
          <h4> Resources </h4>
          <ul>
            <li><a href="https://www.healthassure.in/about-us" target="_blank"> About Us </a> </li>
            <li><a href="https://www.healthassure.in/frequently-asked-questions" target="_blank"> FAQs </a></li>
            <li><a href="https://www.healthassure.in/blogs" target="_blank"> Blogs </a></li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-3 col-6">
          <h4> Legal </h4>
          <ul>
            <li><a href="https://www.healthassure.in/terms-and-conditions" target="_blank"> Terms & Conditions </a>
            </li>
            <li><a href="https://www.healthassure.in/privacy-policy" target="_blank"> Privacy Policy </a></li>
          </ul>
        </div>
        <div class="col-lg-12 col-md-12 startconver">
          <h4> START A CONVERSATION </h4>
        </div>
        <div class="col-lg-3 col-12">
          <p> <a
              href="https://api.whatsapp.com/send?phone=918355843459&amp;text=Hi, I want to know more about HealthAssure"
              target="_blank"> <i class="fa-brands fa-whatsapp"></i> +91 83558 43459 </a> </p>

        </div>
        <div class="col-lg-3 col-12">
          <p> <a href="mailto:hello@healthassure.in"> <i class="fa-regular fa-envelope"></i> hello@healthassure.in </a>
          </p>
        </div>
        <div class="col-lg-3 col-12">
          <p> <a href="tel:+912261676600"> <i class="fa-solid fa-phone"></i> +91-22-6167-6600/33 </a> </p>
        </div>
        <div class="col-lg-3 col-12">
          <p> <a href="#"><span class="pb-5"> <i class="fa-solid fa-location-dot"></i> </span> 1st Floor, Excom House,
              North Wing, 7 Saki-vihar Road, Sakinaka, Andheri(E), Mumbai-400 072 </a> </p>
        </div>
        <div class="col-lg-12 col-md-12 txt-13">
          <p class="py-2"> Insurance products are obligations only of the Insurance company. They are not under any
            obligations of or guaranteed by HealthAssure Private Limited ("HealthAssure") or any of its affiliates or
            subsidiaries or any Governmental agency. HealthAssure, HealthAssure group or any of their affiliates and
            group entities are not insurance company or dealer, broker, sub dealer, sub-broker, distributors or agents.
            HealthAssure does not sell, distribute or solicit any type of insurance on any platform branded under
            “HealthAssure”. </p>

        </div>
        <div class="col-lg-9 col-md-9 col-12 copyright">
          <p><span> Ⓒ2022 HealthAssure . </span> <span> All Rights Reserved .
            </span>
            <span> CIN U85100MH2011PTC223007 </span>
          </p>

        </div>
        <div class="col-lg-3 col-md-3 col-12">
          <div class="social">
            <ul>
              <li><a href="https://www.facebook.com/healthassure.india/"><i class="fa-brands fa-facebook-f"></i> </a>
              </li>
              <li><a href="https://www.instagram.com/health.assure/"> <i class="fa-brands fa-instagram"></i> </a> </li>
              <li><a href="https://www.linkedin.com/company/healthassure?"> <i class="fa-brands fa-linkedin-in"></i>
                </a> </li>
              <li><a href="https://twitter.com/healthassure1"> <i class="fa-brands fa-twitter"></i> </a> </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </footer>






  <!-- Start payment Popup -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-planupgrade">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Payment Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body modalpaymentdetail">
          <div class="row">
            <div class="col-xl-6 col-lg-6 col-6">
              <h3> Plan Amount </h3>
            </div>
            <div class="col-xl-6 col-lg-6 col-6">
              <h3 class="amountblue" id="planAmount"> Rs. 15430 </h3>
            </div>

            <div class="col-xl-6 col-lg-6 col-6">
              <h3> Discount </h3>
            </div>
            <div class="col-xl-6 col-lg-6 col-6">
              <h3 class="amountred" id="discountAmount"> Rs. 15430 </h3>
            </div>

            <div class="col-xl-6 col-lg-6 col-6">
              <h3> CGST </h3>
            </div>
            <div class="col-xl-6 col-lg-6 col-6">
              <h3 class="amountblue" id="cgstAmount"> Rs. 15430 </h3>
            </div>
            <div class="col-xl-6 col-lg-6 col-6">
              <h3> SGST </h3>
            </div>
            <div class="col-xl-6 col-lg-6 col-6">
              <h3 class="amountblue" id="sgstAmount"> Rs. 15430 </h3>
            </div>
            <input type="text" class="amountblue" id="upgradePlanCode" placeholder="PlanCode" style="display: none;">
          </div>
        </div>
        <div class="mdl-footer">
          <div class="row">
            <div class="col-lg-6">
              <h3 id="totalAmount"> Total Rs. 11241 </h3>
            </div>
            <div class="col-lg-6">
              <button type="button" class="btn btn-primary paynow_button"
                onclick="payNowFun($('#upgradePlanCode').val())"> Pay Now </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- End Payment Popup -->

  <!-- Start Thank You Popup -->


  <div class="modal fade" id="paymentsuccess" tabindex="-1" aria-labelledby="paymentsuccessLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-planupgrade">
      <div class="modal-content">
        <div class="modal-header payment-success-header">
          <h5 class="modal-title" id="paymentsuccessLabel"></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body payment-success">
          <div class="row">
            <div class="col-lg-12 col-md-12">
              <img src="images/check-green.png">
              <h4> Payment Successful </h4>
              <p> Transaction Number: 1495283945359 </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Thank You Popup -->
</body>

</html>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
  integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
  integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/PlanUpgrade.js"></script>
<script>
  $(document).ready(function () {
    $('.navbar-light .dmenu').hover(function () {
      $(this).find('.sm-menu').first().stop(true, true).slideDown(300);
    }, function () {
      $(this).find('.sm-menu').first().stop(true, true).slideUp(210)
    });
    $('#policyInvalidMessage').html("");

    var href = new URL(window.location.href);
    var policyNo = href.searchParams.get("id");
    if (policyNo != null && policyNo != '') {
      $('#RenewPolicyNo').val(policyNo);
      GetOPDPlanSearhForUpgrade(policyNo);
    }
  });

  var upgradePlanType = '1';
  $('[name="upgradePlanType"]').change(function (e) {
    if ($('#radioUpgrade').is(':checked')) {
      upgradePlanType = '1';
      $('#srchPlans').text("UPGRADE");
      GetOPDPlanSearhForUpgrade($('#RenewPolicyNo').val(), '', upgradePlanType);
    }
    else if ($('#radioRenewUpgrade').is(':checked')) {
      upgradePlanType = '2';
      $('#srchPlans').text("RENEW + UPGRADE");
      GetOPDPlanSearhForUpgrade($('#RenewPolicyNo').val(), '', upgradePlanType);
    }
    else {
      upgradePlanType = '3';
      $('#srchPlans').text("RENEW");
      GetOPDPlanSearhForUpgrade($('#RenewPolicyNo').val(), '', upgradePlanType);
    }
  });

  $('#RenewpolicyNoForm').submit(function (e) {
    e.preventDefault();
    GetOPDPlanSearhForUpgrade($('#RenewPolicyNo').val(), '', upgradePlanType);
    document.getElementById('renewpolicybenefitsdiv').scrollIntoView();
  });


  function payNowFun(upgradePlanCode = '') {
    if (upgradePlanType == '3') {
      RenewalOPDPlanRequest($('#RenewPolicyNo').val());
    }
    else if (upgradePlanType == '2') {
      UpgradeOPDPlanRequest($('#RenewPolicyNo').val(), upgradePlanCode);
    }
    else if (upgradePlanType == '1') {
      OnlyUpgradeOPDPlanRequest($('#RenewPolicyNo').val(), upgradePlanCode);
    }
  }

  function GetOPDPlanSearhForUpgrade(policyNo, planCode = '', upgradePlanType = '1') {
    GetOPDPlanForUpgrade(policyNo, planCode, upgradePlanType).then(function (result) {
      console.log(result);
      $('#PolicyDetailsectiondiv').show();
      $('#renewBtnDiv').hide();
      $('#UpgradePlansDiv').show();

      if (upgradePlanType == '3') {
        $('#renewBtnDiv').show();
        $('#UpgradePlansDiv').hide();
        upgradePlansAmountData(result.results.upgradePlanDetails)
      }

      //policy details
      $('#PolicyNo').html('<span> Policy No: </span>' + $('#RenewPolicyNo').val());
      $('#CustomerName').html('<span> Name: </span>' + result.results.upgradePlanDetails.fullName);
      $('#CustomerRelationAndGender').html(result.results.upgradePlanDetails.relation + ' | ' + result.results.upgradePlanDetails.gender);
      $('#PlanValidity').html('<span> Existing Validity: </span>' + result.results.upgradePlanDetails.validFrom + ' to ' + result.results.upgradePlanDetails.validTo);
      $('#CustomerEmail').html('<span> Email: </span>' + result.results.upgradePlanDetails.emailid);
      $('#PolicyName').html(result.results.upgradePlanDetails.planName);
      $('#CustomerMobileNo').html('<span> Mobile: </span>' + result.results.upgradePlanDetails.phoneNo);
      $('#PlanNewValidity').html('<b>Your New Validity: ' + result.results.upgradePlanDetails.newValidFrom + ' to ' + result.results.upgradePlanDetails.newValidTo + '</b>');

      //benefits details
      $('.benefitbox').html("");
      var policybenefits = '';
      jQuery.each(result.results.upgradePlanDetails.benefits, function (index, item) {
        var benefitImage = '';
        if (item.serviceName.toLowerCase() == 'diagnostics') {
          benefitImage = 'images/stethoscope.png';
        }
        else if (item.serviceName.toLowerCase() == 'fitness') {
          benefitImage = 'images/running.png';
        }
        else if (item.serviceName.toLowerCase() == 'pharmacy') {
          benefitImage = 'images/capsule.png';
        }
        else if (item.serviceName.toLowerCase() == 'tele-consultation') {
          benefitImage = 'images/online-support.png';
        }
        else if (item.serviceName.toLowerCase() == 'doctor coach') {
          benefitImage = 'images/medical-team.png';
        }
        else if (item.serviceName.toLowerCase() == 'doctor consultation') {
          benefitImage = 'images/doctor.png';
        }
        policybenefits += '<div class="col-xl-2 col-lg-2 col-md-4 col-12>"' +
          "<span><img src='" + benefitImage + "'></span>" +
          '<p><span>' + (item.isUnLimited == "Y" ? "Unlimited" : item.totalWalletAmount > 0 ? " Rs. " + item.totalWalletAmount : " Credits " + item.totalCredits) + '</span> </p>' +
          '<p>' + item.serviceName + '</p></div>'
      })
      $('.benefitbox').html(policybenefits);


      var plansUpgradeDetails = '';
      $("#UpgradePlansDiv").html("");
      jQuery.each(result.results.upgradePlanDetails.upgradePlans, function (index, item) {
        var jsonObj = JSON.stringify(item);
        plansUpgradeBenefits = '';
        jQuery.each(item.upgradeBenefits, function (index, it) {
          plansUpgradeBenefits += "<li> <span>" + (it.isUnLimited == "Y" ? "Unlimited" : it.totalWalletAmount > 0 ? " Rs. " + it.totalWalletAmount + " " : " Credits " + it.totalCredits) + "</span>" + it.serviceName + "</li>";
        });

        plansUpgradeDetails += `<div class="col-md-6 col-sm-12 col-lg-6  col-xl-4 col-xxl-4 mt-5">
          <div class="row offercard">
            <div class="col-lg-9 col-md-6 pt-2 col-5">
              <p style="font-size:16px; padding-left:10px;"><b> ${item.planName} </b> </p>
              <p class="tnc2"><b> ${item.relCount > 0 ? `Upto ${item.relCount} Family Members` : "Self"}  ${item.ageTo > 0 ? `/Age(${item.ageFrom}-${item.ageTo})` : ""} </b></p>
            </div>
            <div class="col-lg-3 col-md-6 col-7 val">
              <p style="margin-bottom:0px; font-size:13px;"> <small> ${item.planDurationInMonths > 0 ? `${item.planDurationInMonths} Months` : ""}  </small> </p>
            </div>
          </div>
          <div class="allplan">
            <div class="row plan">
              <ul class="pt-3">
                <p class="pl-2"><b> Highlighted Features :</b></p> 
                ${plansUpgradeBenefits}
              </ul>

            </div>
          </div>
          <div class="row termscnc">
            <p><b> ${item.tnCLink != null && item.tnCLink != '' ? `<a href="${item.tnCLink}">*Terms & Conditions </a>` : ""}</b> </p>
          </div>
          <div class="row bottomsec">
            <div class="col-lg-8 col-xl-8 col-md-6 py-2 col-5">
              <p><b> Current Premium </b> </p>
              <p><b> <del> ${item.planAmount} </del> ${item.upgradePlanAmount} </b> <small>( Exclusive GST ) </small></p>
            </div>
            <div class="col-lg-4 col-md-6 col-xl-4 col-7 val">
              <button type="button" class="btn btn-light upgrade_button" data-bs-toggle="modal"
                data-bs-target="#exampleModal" onclick='upgradePlansAmountData(${jsonObj})'> Upgrade </button>
            </div>
          </div>
        </div>`;
      });
      if (plansUpgradeDetails === '') {
        $("#UpgradePlansDiv").html('<div class="col-lg-12 col-md-12 col-12 text-center"><h3 class="pt-4">is not plan upgrade option. </h3> </div>');
      }
      else { $("#UpgradePlansDiv").html(plansUpgradeDetails); }
      document.getElementById('PlanValidity').scrollIntoView();
      $('#policyInvalidMessage').html('');
    }).catch(function (err) {
      console.warn(err);
      $('#policyInvalidMessage').html(err.message);
    });
  }

  function upgradePlansAmountData(plan) {
    var newAmount = upgradePlanType == '3' ? plan.renewPlanAmount : plan.upgradePlanAmount;
    var discountAmount = parseInt(plan.planAmount - newAmount);
    var cgstAmount = parseInt(newAmount * 0.09);
    var sgstAmount = parseInt(newAmount * 0.09);
    var totalAmount = parseInt(newAmount + cgstAmount + sgstAmount);
    $('#planAmount').html('Rs. ' + newAmount);
    $('#discountAmount').html('Rs. ' + discountAmount);
    $('#cgstAmount').html('Rs. ' + cgstAmount);
    $('#sgstAmount').html('Rs. ' + sgstAmount);
    $('#totalAmount').html('Total Rs. ' + totalAmount);
    $('#upgradePlanCode').val(plan.planCode);

  }
</script>

<script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="bubbleBox.min.js"></script>
<script>
  $(function () {
    addBubbleAll('.main-box', '.tip', {
      direction: 'top',
      offsetX: 20,
      fadeInDelay: 0,
      fadeInTime: 100,
      fadeOutDelay: 0,
      fadeOutTime: 0,
    })
  })
</script>